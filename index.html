<!doctype html>

<head>
	<meta charset="utf-8">

	<script>
	function setSearchEngine(action){
		//console.log("setSearchEngine");
		let engine = document.querySelector('input[name=engine]:checked').value;
		//console.log("engine -- " + engine);
		//console.log("actions[engine] --- " + actions[engine] );		
		return actions[engine];
	}	

	function performSearch() {
    //console.log('performSearch');
		let queryText = document.getElementById("q");
		//console.log("queryText --- " + queryText.value);
		//console.log("performSearch --- "  + "?q=" + queryText.value)
		let form = document.getElementById("searchForm");
		form.setAttribute("action", setSearchEngine() + "?q=" + queryText.value);
    \\console.log("form.getAttribute(action) " + form.getAttribute("action"));
	}

	let actions = {
   	google: "https://www.google.com/search",
		duckDuckGo: "https://duckduckgo.com",
		bing : "https://www.bing.com/search",
		ask : "https://www.ask.com/web"
	};

		// TODO: create a handler
    window.addEventListener("load", function(){
		let form = document.querySelector("form");
		form.addEventListener("submit", function(event) {
			performSearch();
		});
  });
	</script>
</head>

<body>

	<form id="searchForm">
	<!-- TODO: add form elements -->
	
	<label><input type="text" name="q" id="q"/></label>

  <label>Google<input type="radio" name="engine" value="google" checked="true"/></label>
  <label>DuckDuckGo<input type="radio" name="engine" value="duckDuckGo"/></label>
	<label>Bing<input type="radio" name="engine" value="bing"/></label>
	<label>Ask<input type="radio" name="engine" value="ask"/></label>

	<button id="go" >Go!</button> 
	</form>

</body>